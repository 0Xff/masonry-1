/*************************************************
**  jQuery Masonry version 1.3.0
**  copyright David DeSandro, licensed GPL & MIT
**  http://desandro.com/resources/jquery-masonry
**************************************************/
;(function(e){var n=e.event,o;n.special.smartresize={setup:function(){e(this).bind("resize",n.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",n.special.smartresize.handler)},handler:function(j,l){var g=this,b=arguments;j.type="smartresize";o&&clearTimeout(o);o=setTimeout(function(){jQuery.event.handle.apply(g,b)},l==="execAsap"?0:100)}};e.fn.smartresize=function(j){return j?this.bind("smartresize",j):this.trigger("smartresize",["execAsap"])};e.fn.masonry=function(j,l){var g=
{getBricks:function(b,c,a){c.$bricks=a.appendedContent===undefined?a.itemSelector===undefined?b.children():b.find(a.itemSelector):a.itemSelector===undefined?a.appendedContent:a.appendedContent.filter(a.itemSelector)},placeBrick:function(b,c,a,d,i,k){var h=0,f;for(f=0;f<c;f++)if(a[f]<a[h])h=f;b.applyStyle({left:i.colW*h+i.posLeft,top:a[h]},e.extend(true,{},k.animationOptions));for(f=0;f<d;f++)i.colY[h+f]=a[h]+b.outerHeight(true)},setup:function(b,c,a){g.getBricks(b,a,c);a.colW=c.columnWidth===undefined?
a.masoned?b.data("masonry").colW:a.$bricks.outerWidth(true):c.columnWidth;a.colCount=Math.floor(b.width()/a.colW);a.colCount=Math.max(a.colCount,1)},arrange:function(b,c,a){var d,i;a.masoned||b.css("position","relative");if(!a.masoned||c.appendedContent!==undefined)a.$bricks.css("position","absolute");var k=e("<div />");b.prepend(k);a.posTop=Math.round(k.position().top);a.posLeft=Math.round(k.position().left);k.remove();if(a.masoned&&c.appendedContent!==undefined){a.colY=b.data("masonry").colY;d=
b.data("masonry").colCount}else{a.colY=[];d=0}for(;d<a.colCount;d++)a.colY[d]=a.posTop;e.fn.applyStyle=a.masoned&&c.animate?e.fn.animate:e.fn.css;c.singleMode?a.$bricks.each(function(){var h=e(this);g.placeBrick(h,a.colCount,a.colY,1,a,c)}):a.$bricks.each(function(){var h=e(this),f=Math.ceil(h.outerWidth(true)/a.colW);f=Math.min(f,a.colCount);if(f==1)g.placeBrick(h,a.colCount,a.colY,1,a,c);else{var p=a.colCount+1-f,m=[0];for(d=0;d<p;d++)for(i=m[d]=0;i<f;i++)m[d]=Math.max(m[d],a.colY[d+i]);g.placeBrick(h,
p,m,f,a,c)}});for(d=a.wallH=0;d<a.colCount;d++)a.wallH=Math.max(a.wallH,a.colY[d]);b.applyStyle({height:a.wallH-a.posTop},e.extend(true,[],c.animationOptions));a.masoned||b.addClass("masoned");l.call(a.$bricks);b.data("masonry",a)},resize:function(b,c,a){a.masoned=b.data("masonry")!==undefined;var d=b.data("masonry").colCount;g.setup(b,c,a);a.colCount!=d&&g.arrange(b,c,a)}};return this.each(function(){var b=e(this),c=e.extend({},e.masonry);c.masoned=b.hasClass("masoned");var a=c.masoned?b.data("masonry").options:
{},d=e.extend({},c.defaults,a,j),i=a.resizeable;c.options=d.saveOptions?d:a;l=l||function(){};g.getBricks(b,c,d);if(!c.$bricks.length)return this;g.setup(b,d,c);g.arrange(b,d,c);!i&&d.resizeable&&e(window).bind("smartresize.masonry",function(){g.resize(b,d,c)});i&&!d.resizeable&&e(window).unbind("smartresize.masonry")})};e.masonry={defaults:{singleMode:false,columnWidth:undefined,itemSelector:undefined,appendedContent:undefined,saveOptions:true,resizeable:true,animate:false,animationOptions:{}},colW:undefined,
colCount:undefined,colY:undefined,wallH:undefined,masoned:undefined,posTop:0,posLeft:0,options:undefined,$bricks:undefined,$brickParent:undefined}})(jQuery);